<div class="container-fluid h-100 d-flex flex-column" xmlns="http://www.w3.org/1999/html">
  <webai-studio-header>
    <div class="d-flex align-items-center mt-5 ms-3 me-3">
      <h2 class="h6 flex-grow-1">Translation</h2>
    </div>
    
  </webai-studio-header>

  <div class="container">
    <div class="d-flex flex-row gap-3 align-items-center">
      <ul class="nav nav-underline ms-3 flex-fill w-100">
        <li class="nav-item">
          @if(this.detectedLanguage) {
            <button class="nav-link" (click)="onDetectLanguageClick()" [class.active]="this.sourceLocale === undefined" aria-current="page" href="#">{{ this.detectedLanguage.language }} - Detected</button>
          } @else {
            <button class="nav-link" (click)="onDetectLanguageClick()" [class.active]="this.sourceLocale === undefined" aria-current="page" href="#">Detect Language</button>
          }
        </li>
        @for (locale of recentSourceLocales | slice:0:2; track $index) {
          <li class="nav-item">
            <button class="nav-link" (click)="onRecentSourceLanguageClick(locale)" href="#" [class.active]="sourceLocale?.code === locale.code">{{ locale.language }}</button>
          </li>
        }
        <li class="nav-item dropdown">
          <button class="btn btn-soft dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-dark">
            @for (locale of locales; track locale.code) {
              <li><button class="dropdown-item" type="button" (click)="onSourceLanguageSelect(locale)">{{ locale.language }}</button></li>
            }
          </ul>
        </li>
      </ul>
      <div class="ms-2">
        <button class="btn btn-soft"><i class="bi bi-arrow-left-right"></i></button>
      </div>
      <ul class="nav nav-underline ms-3 flex-fill w-100">
        @for (locale of recentDestinationLocales | slice:0:2; track $index) {
          <li class="nav-item">
            <button class="nav-link" (click)="onRecentDestinationLanguageClick(locale)" href="#" [class.active]="destinationLocale?.code === locale.code">{{ locale.language }}</button>
          </li>
        }
        <li class="nav-item dropdown">
          <button class="btn btn-soft dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-dark">
            @for (locale of locales; track locale.code) {
              <li><button class="dropdown-item" type="button" (click)="onDestinationLanguageSelect(locale)">{{ locale.language }}</button></li>
            }
          </ul>
        </li>
      </ul>
    </div>

    <div class="d-flex flex-row gap-3">
        <textarea class="form-control flex-grow-1 w-100" rows="8"></textarea>
      <div class="card bg-body-secondary flex-grow-1 w-100">
        <div class="card-body">

        </div>

      </div>
    </div>

    <div class="d-grid mt-3">
      <button class="btn btn-primary btn-lg">Translate</button>
    </div>
  </div>

</div>
